(this["webpackJsonpreact-users-app"]=this["webpackJsonpreact-users-app"]||[]).push([[0],{23:function(e,t,a){"use strict";var n=a(12),r=a.n(n),c=a(19),s=a(57),l=a(7),o=a(0),u=a(5),m=a(52),i=a.n(m);t.a=function(e){var t=e.token,a=e.setToken,n=Object(o.useState)([]),m=Object(l.a)(n,2),p=m[0],f=m[1],E=Object(o.useState)("asc"),b=Object(l.a)(E,2),d=b[0],h=b[1],g=Object(o.useState)(null),k=Object(l.a)(g,2),v=k[0],x=k[1],j=Object(o.useState)(1),O=Object(l.a)(j,2),N=O[0],y=O[1],w=Object(o.useState)(20),C=Object(l.a)(w,1)[0],S=Object(u.f)(),_=N*C,B=_-C,T=p.slice(B,_),D=function(e){h("asc"===d?"desc":"asc"),f(i.a.orderBy(Object(s.a)(p),e,d))},F=Object(o.useCallback)((function(e){return e?p.filter((function(t){return t.username.toLowerCase().trim().includes(e.toLowerCase().trim())})):null}),[p]);Object(o.useEffect)((function(){return t&&function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://emphasoft-test-assignment.herokuapp.com/api/v1/users/",{method:"GET",headers:{Authorization:"Token ".concat(t)},credentials:"include"});case 3:if(!(a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:n=e.sent,f(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()(t),function(){}}),[t]);var I=Object(o.useCallback)((function(){a(null),localStorage.clear(),S.push("/react-users-app")}),[S,a]);return{users:p,filteredUsers:v,controlLogout:I,submitSort:function(){D("id")},onSearch:function(e){x(F(e))},currentListOfUsers:T,usersPerPage:C,paginate:function(e){return y(e)}}}},258:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),s=a.n(c),l=a(7),o=a(9),u=a(5),m=a(4),i=function(e){var t={};return e.username?/^[\w.@+-]{6,150}$/.test(e.username)?"test_super"!==e.username&&(t.username="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d"):t.username="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d. \u0422\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435":t.username="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",e.password?e.password.length<8?t.password="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":"Nf<U4f<rDbtDxAPn"!==e.password&&(t.password="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):t.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",t},p=a(30),f=a.n(p),E=a(31),b=a.n(E),d=a(12),h=a.n(d),g=a(19),k=a(20),v=a(46),x=function(e,t){var a=t.setToken,r=Object(n.useState)({username:"",password:""}),c=Object(l.a)(r,2),s=c[0],o=c[1],m=Object(n.useState)({}),i=Object(l.a)(m,2),p=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),d=b[0],x=b[1],j=Object(u.f)();return{controlChange:function(e){var t=e.target,a=t.name,n=t.value;o(Object(v.a)({},s,Object(k.a)({},a,n)))},controlSubmit:function(){var t=Object(g.a)(h.a.mark((function t(n){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),x(!0),t.prev=2,t.next=5,fetch("https://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:s.username,password:s.password})});case 5:if(!(r=t.sent).ok){t.next=15;break}return t.next=9,r.json();case 9:c=t.sent,a(c.token),localStorage.setItem("token",c.token),j.push("/react-users-app/users"),t.next=16;break;case 15:f(e(s));case 16:x(!1),t.next=27;break;case 19:if(t.prev=19,t.t0=t.catch(2),"AbortError"!==t.t0.name){t.next=26;break}alert("\u041f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0437\u0436\u0435!"),x(!1),t.next=27;break;case 26:throw t.t0;case 27:case"end":return t.stop()}}),t,null,[[2,19]])})));return function(e){return t.apply(this,arguments)}}(),values:s,errors:p,isLoading:d}},j=function(e){e.token;var t=e.setToken,a=x(i,{setToken:t}),c=a.controlChange,s=a.controlSubmit,l=a.values,o=a.errors,u=a.isLoading;return r.a.createElement(n.Fragment,null,r.a.createElement(m.BDiv,{id:"home",display:"flex",justifyContent:"around",alignItems:"center"},r.a.createElement("section",{className:"home"},r.a.createElement(m.BDiv,{className:"mt-3 text-center"},u?r.a.createElement(b.a,{className:"home__img",color:"yellow",size:72}):r.a.createElement(b.a,{color:"yellow",size:72})),r.a.createElement("form",{className:"home__form",action:"",onSubmit:s,noValidate:!0},r.a.createElement("h5",{className:"home__title text-center"},"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement(m.BDiv,{className:"input-field",w:"100",display:"flex",justifyContent:"around",mt:"5"},r.a.createElement("label",{htmlFor:"first_name"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("input",{id:"first_name",name:"username",type:"text",className:f()("validate",{inputError:o.username}),value:l.username,onChange:c})),r.a.createElement("span",null,o.username&&r.a.createElement("p",{className:"error"},o.username)),r.a.createElement(m.BDiv,{className:"input-field",w:"100",display:"flex",justifyContent:"around",mt:"4"},r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{id:"password",name:"password",type:"password",className:f()("validate",{inputError:o.password}),value:l.password,onChange:c})),r.a.createElement("span",null,o.password&&r.a.createElement("p",{className:"error"},o.password)),r.a.createElement(m.BDiv,{mt:"2",w:"100",display:"flex",justifyContent:"around"},r.a.createElement("button",{className:"home__btn home__btn-login",type:"submit"},u?"\u0412\u0445\u043e\u0434\u0438\u043c...":"\u0412\u0445\u043e\u0434"))))))},O=function(e){var t=e.token,a=e.setToken;return console.log("render1"),t?r.a.createElement(n.Fragment,null,r.a.createElement("h5",{className:"text-center mt-5"},"\u0412\u044b \u0443\u0436\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!"),r.a.createElement(m.BDiv,{className:"text-center mt-5 mb-5"},r.a.createElement(o.b,{to:"/react-users-app/users",className:"home__btn home__btn-back"},"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"))):r.a.createElement(n.Fragment,null,r.a.createElement(j,{setToken:a}))},N=a(48);var y=function(){var e=localStorage.getItem("token"),t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){e&&s(e)}),[e]),r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/react-users-app/users"},r.a.createElement(N.a,{token:c,setToken:s})),r.a.createElement(u.a,{exact:!0,path:"/react-users-app"},r.a.createElement(O,{token:c,setToken:s})),r.a.createElement(u.a,{path:"*",component:j}))))};a(258),a(259),a(260);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))},35:function(e,t,a){"use strict";function n(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}a.d(t,"a",(function(){return n}))},48:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),c=a(9),s=a(4),l=a(56),o=a(49),u=a(51),m=a(53),i=a(54),p=a(23),f=a(35);t.a=Object(l.hot)(e)((function(e){var t=e.token,a=e.setToken,l=Object(p.a)({token:t,setToken:a}),E=l.users,b=l.filteredUsers,d=l.onSearch,h=l.submitSort,g=l.currentListOfUsers,k=l.usersPerPage,v=l.paginate;return t?r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{onSearch:d,setToken:a}),Object(f.a)(E)?r.a.createElement(i.a,null):Object(f.a)(b)&&b?r.a.createElement("h5",{className:"text-center mt-5"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"):r.a.createElement(n.Fragment,null,r.a.createElement(o.a,{users:b||g,submitSort:h,setToken:a}),r.a.createElement(m.a,{usersPerPage:k,totalListOfUsers:E.length,paginate:v}))):r.a.createElement(n.Fragment,null,r.a.createElement("h5",{className:"text-center mt-5"},"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!"),r.a.createElement(s.BDiv,{className:"text-center mt-5 mb-5"},r.a.createElement(c.b,{to:"/react-users-app/",className:"home__btn home__btn-back"},"\u041d\u0430\u0437\u0430\u0434")))}))}).call(this,a(255)(e))},49:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(50),s=a.n(c);t.a=function(e){var t=e.users,a=e.submitSort;return r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center cursor-pointer",onClick:a},"# ",r.a.createElement(s.a,null)," "),r.a.createElement("th",{className:"text-center"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("th",{className:"text-center"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement("th",{className:"text-center"},"\u0418\u043c\u044f"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"text-center"},e.id),r.a.createElement("td",{className:"text-center"},e.username),r.a.createElement("td",{className:"text-center"},e.last_name),r.a.createElement("td",{className:"text-center"},e.first_name))})))))}},51:function(e,t,a){"use strict";var n=a(7),r=a(0),c=a.n(r),s=a(4),l=a(23);t.a=function(e){var t=e.token,a=e.setToken,o=e.onSearch,u=Object(r.useState)(""),m=Object(n.a)(u,2),i=m[0],p=m[1],f=Object(l.a)({token:t,setToken:a}).controlLogout,E=function(e){return p(e.target.value)},b=function(){return o(i)},d=function(){p(""),o("")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.BDiv,{display:"none lg-block xl-block"},c.a.createElement(s.Navbar,{expand:"sm",dark:!0,bg:"dark",mb:"3"},c.a.createElement(s.Navbar.Brand,{href:"#"},"Emphasoft"),c.a.createElement(s.Navbar.Nav,{mx:"auto",display:"flex",alignItems:"center"},c.a.createElement(s.Form.Input,{type:"text",text:"white",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443...",mr:"sm-2",value:i,onChange:E}),c.a.createElement(s.Button,{onClick:b,outline:!0,info:!0,ml:"2"},"\u041f\u043e\u0438\u0441\u043a"),c.a.createElement(s.Button,{onClick:d,outline:!0,info:!0,ml:"2"},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),c.a.createElement(s.BDiv,{float:"right"},c.a.createElement(s.Button,{onClick:f,outline:!0,info:!0,ml:"2"},"\u0412\u044b\u0445\u043e\u0434")))),c.a.createElement(s.BDiv,{display:"lg-none xl-none"},c.a.createElement(s.Collapse,{id:"navbarToggleExternalContent"},c.a.createElement(s.BDiv,{bg:"dark",p:"2"},c.a.createElement(s.Form.Input,{type:"text",text:"white",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443...",m:"lg-2",value:i,onChange:E})),c.a.createElement(s.BDiv,{bg:"dark",p:"2",display:"flex",alignItems:"center",justifyContent:"center"},c.a.createElement(s.Button,{onClick:b,outline:!0,info:!0,ml:"2"},"\u041f\u043e\u0438\u0441\u043a"),c.a.createElement(s.Button,{onClick:d,outline:!0,info:!0,ml:"2"},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),c.a.createElement(s.Button,{onClick:f,outline:!0,info:!0,ml:"2"},"\u0412\u044b\u0445\u043e\u0434"))),c.a.createElement(s.Navbar,{dark:!0,bg:"dark",display:"flex",alignItems:"center"},c.a.createElement(s.Navbar.Toggler,{target:"#navbarToggleExternalContent"}))))}},53:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(9),s=a(4);t.a=function(e){for(var t=e.usersPerPage,a=e.totalListOfUsers,n=e.paginate,l=[],o=1;o<=Math.ceil(a/t);o++)l.push(o);return r.a.createElement(s.Nav,{display:"flex",justifyContent:"center",alignItems:"center",className:"mt-2 mb-4"},r.a.createElement("ul",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement(c.b,{onClick:function(){return n(e)},to:"users#",className:"page-link"},e))}))))}},54:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(55),s=a.n(c);t.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"loader",src:s.a,alt:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}))}},55:function(e,t,a){e.exports=a.p+"static/media/loader.c402d4a9.gif"},58:function(e,t,a){e.exports=a(261)}},[[58,1,2]]]);
//# sourceMappingURL=main.84082537.chunk.js.map