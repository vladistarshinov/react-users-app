{"version":3,"sources":["plugins/validate.js","components/AuthForm/useAuthForm.js","components/AuthForm/index.jsx","views/AuthPage.jsx","components/UsersList/index.jsx","components/UsersList/useUsersElements.js","components/FilterSearch/index.jsx","components/Pagination/index.jsx","components/Loader/index.jsx","plugins/isEmpty.js","views/UsersPage.jsx","App.js","index.js","assets/images/Loader/loader.gif"],"names":["validate","values","errors","username","test","password","length","useAuthForm","setToken","useState","setValues","setErrors","isLoading","setIsLoading","history","useHistory","controlChange","e","target","name","value","controlSubmit","a","preventDefault","fetch","baseURL","method","headers","body","JSON","stringify","response","ok","json","token","localStorage","setItem","push","alert","AuthForm","id","display","justifyContent","alignItems","className","color","size","action","onSubmit","noValidate","w","mt","htmlFor","type","classNames","onChange","AuthPage","console","log","to","UsersList","users","submitSort","onClick","map","user","key","last_name","first_name","useUsersElements","setUsers","sortType","setSortType","filteredUsers","setFilteredUsers","currentPage","setCurrentPage","usersPerPage","indexOfLastListOfUsers","indexOfFirstListOfUsers","currentListOfUsers","slice","onSort","sortField","_","orderBy","getFilteredUsers","useCallback","val","filter","u","toLowerCase","trim","includes","useEffect","Authorization","error","getUsers","controlLogout","clear","onSearch","paginate","pageNumber","FilterSearch","searchName","setSearchName","changeValue","controlSearch","clearSearch","expand","dark","bg","mb","Brand","href","Nav","mx","Input","text","placeholder","mr","outline","info","ml","float","p","m","Toggler","Pagination","totalListOfUsers","i","Math","ceil","number","Loader","src","imgLoader","alt","isEmpty","undefined","Object","keys","UsersPage","App","ls","getItem","path","exact","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b4daa7b7.chunk.js","sourcesContent":["const validate = values => {\n    let errors = {};\n\n    if (!values.username) {\n        errors.username = \"Введите логин\";\n    } else if (!/^[\\w.@+-]{6,150}$/.test(values.username)) {\n        errors.username = \"Некорректный логин. Такого пользователя нет в системе\";\n    } else if (values.username !== 'test_super') {\n        errors.username = \"Неверный логин\";\n    }\n    if (!values.password) {\n        errors.password = \"Введите пароль\";\n    } else if (values.password.length < 8) {\n        errors.password = \"Пароль должен содержать не менее 8 символов\";\n    } else if (values.password !== 'Nf<U4f<rDbtDxAPn') {\n        errors.password = \"Неверный пароль\";\n    }\n    \n    return errors;\n};\n\nexport default validate;","import { useState } from 'react';\nimport {useHistory} from 'react-router-dom';\n\nconst useAuthForm = (validate, { setToken }) => {\n    const [values, setValues] = useState({ username: \"\", password: \"\" });\n    const [errors, setErrors] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const history = useHistory();\n    const baseURL = 'https://emphasoft-test-assignment.herokuapp.com/';\n    const APItoken = 'api-token-auth/';\n\n    const controlChange = e => {\n        const { name, value } = e.target;\n        setValues({\n          ...values, [name]: value\n        })\n    };\n\n    const controlSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        try {\n          const response = await fetch(baseURL + APItoken, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify({\n              username: values.username,\n              password: values.password\n            })\n          });\n          if (response.ok) {\n            let json = await response.json();\n            setToken(json.token);\n            localStorage.setItem('token', json.token);\n            history.push('/react-users-app/users');\n          } else {\n            setErrors(validate(values));\n          }\n          setIsLoading(false);\n        }  catch(err) { \n          if (err.name === 'AbortError') {\n            alert('При входе возникли проблемы. Попробуйте зайти позже!');\n            setIsLoading(false);\n          } else {\n            throw err;\n          }\n        }     \n    }\n\n    return {\n        controlChange,\n        controlSubmit,\n        values,\n        errors,\n        isLoading\n    };\n};\n\nexport default useAuthForm;","import React, { Fragment } from 'react';\nimport validate from '../../plugins/validate';\nimport classNames from 'classnames';\nimport { BDiv } from 'bootstrap-4-react';\nimport CubeOutlineIcon from 'mdi-react/CubeOutlineIcon';\n\nimport useAuthForm from './useAuthForm';\n\nconst AuthForm = ({ token, setToken }) => {\n    const { controlChange, \n            controlSubmit, \n            values, \n            errors, \n            isLoading } = useAuthForm(validate, { setToken });\n\n    return (\n        <Fragment>\n            <BDiv \n                id=\"home\" \n                display=\"flex\" \n                justifyContent=\"around\" \n                alignItems=\"center\"\n            >\n                <section className=\"home\">\n                    <BDiv className=\"mt-3 text-center\">\n                        {isLoading ?<CubeOutlineIcon className=\"home__img\" color=\"yellow\" size={72} /> : <CubeOutlineIcon color=\"yellow\" size={72} />} \n                    </BDiv>\n                    <form action=\"\" onSubmit={controlSubmit} noValidate>\n                        <h5 className=\"home__title text-center\">Вход в систему</h5>\n                        <BDiv \n                            className=\"input-field\" \n                            w=\"100\" \n                            display=\"flex\" \n                            justifyContent=\"around\" \n                            mt=\"5\"\n                        >\n                            <label htmlFor=\"first_name\">Логин</label>\n                            <input \n                                id=\"first_name\" \n                                name=\"username\" \n                                type=\"text\" \n                                className={classNames('validate', {'inputError': errors.username})} \n                                value={values.username} onChange={controlChange} \n                            />\n                        </BDiv>\n                        <span>{errors.username && <p className=\"error\">{errors.username}</p>}</span>\n                        <BDiv \n                            className=\"input-field\" \n                            w=\"100\" \n                            display=\"flex\" \n                            justifyContent=\"around\" \n                            mt=\"4\"\n                        >\n                            <label htmlFor=\"password\">Пароль</label>\n                            <input \n                                id=\"password\" \n                                name=\"password\" \n                                type=\"password\" \n                                className={classNames('validate', {'inputError': errors.password})} \n                                value={values.password}  onChange={controlChange}\n                            />\n                        </BDiv>\n                        <span>{errors.password && <p className=\"error\">{errors.password}</p>}</span>\n                        <BDiv w=\"100\" display=\"flex\" justifyContent=\"around\">\n                            <button \n                                className=\"home__btn home__btn-login\" \n                                type=\"submit\"\n                            >{isLoading ? 'Входим...' : 'Вход'}</button>\n                        </BDiv>\n                    </form>\n                </section>\n            </BDiv>\n        </Fragment>\n    )\n};\n\nexport default AuthForm;","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { BDiv } from 'bootstrap-4-react';\r\n\r\nimport AuthForm from '../components/AuthForm';\r\n\r\nconst AuthPage = ({ token, setToken }) => {\r\n    console.log('render1');\r\n    return token ? (\r\n        <Fragment>\r\n            <h5 className=\"text-center mt-5\">Вы уже авторизованы!</h5>\r\n            <BDiv className=\"text-center mt-5 mb-5\">\r\n                <Link \r\n                    to='/react-users-app/users' \r\n                    className=\"home__btn home__btn-back\"\r\n                >К списку пользователей</Link>\r\n            </BDiv>  \r\n        </Fragment>\r\n    ) : (\r\n        <Fragment>\r\n            <AuthForm setToken={setToken} />\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default AuthPage;","import React, { Fragment } from 'react';\n\nimport ArrowUpDownIcon from 'mdi-react/ArrowUpDownIcon';\n\nconst UsersList = ({ users, submitSort }) => {\n\n  return (\n    <Fragment>\n      <table className=\"table table-hover\">\n        <thead>\n          <tr>\n            <th className=\"text-center cursor-pointer\" onClick={submitSort}># <ArrowUpDownIcon /> </th>\n            <th className=\"text-center\">Логин</th>\n            <th className=\"text-center\">Фамилия</th>\n            <th className=\"text-center\">Имя</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user) => (\n            <tr key={user.id}>\n              <td className=\"text-center\">{user.id}</td>\n              <td className=\"text-center\">{user.username}</td>\n              <td className=\"text-center\">{user.last_name}</td>\n              <td className=\"text-center\">{user.first_name}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </Fragment>\n  );\n};\n\nexport default UsersList;","import { useEffect, useState, useCallback } from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport _ from 'lodash';\n\nconst useUsersElements = ({ token, setToken }) => {\n    const [users, setUsers] = useState([]);\n    const [sortType, setSortType] = useState('asc'); \n    const [filteredUsers, setFilteredUsers] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [usersPerPage] = useState(20);\n\n    const baseURL = 'https://emphasoft-test-assignment.herokuapp.com/';\n    const APIusers = 'api/v1/users/';\n    const history = useHistory();\n\n    const indexOfLastListOfUsers = currentPage * usersPerPage;\n    const indexOfFirstListOfUsers = indexOfLastListOfUsers - usersPerPage;\n    const currentListOfUsers = users.slice(indexOfFirstListOfUsers, indexOfLastListOfUsers);\n\n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n    const submitSort = () => {\n      onSort('id');\n    };\n\n    const onSort = (sortField) => {\n      setSortType(sortType === 'asc' ? 'desc' : 'asc');\n      setUsers(_.orderBy([...users], sortField, sortType));\n    };\n  \n  const onSearch = (val) => {\n    setFilteredUsers(getFilteredUsers(val));\n  };\n\n    const getFilteredUsers = useCallback(\n      (val) => {\n        if (val) {\n          return users.filter(u => u['username'].toLowerCase().trim().includes(val.toLowerCase().trim()));\n        }\n        return null;\n      },\n      [users]\n    );\n    \n    \n    useEffect(() => {\n      const getUsers = async (token) => {\n        try {\n          const response = await fetch(baseURL + APIusers, {\n              method: 'GET',\n              headers: {\n                Authorization: `Token ${token}`,\n              },\n            }\n          );\n  \n          if (response.ok) {\n            let json = await response.json();\n            setUsers(json);\n          }\n        } catch (err) {\n          console.error(err);\n        }\n      };\n  \n      if (token) {\n        getUsers(token);\n      }\n      return () => {\n      };\n    }, [token]);\n\n    \n    const controlLogout = useCallback(\n      () => {\n        setToken(null);\n        localStorage.clear();\n        history.push('/react-users-app');\n      },\n      [history, setToken]\n    )\n\n    return {\n      users,\n      filteredUsers,\n      controlLogout,\n      submitSort,\n      onSearch,\n      currentListOfUsers,\n      usersPerPage,\n      paginate\n    };\n  \n};\n\nexport default useUsersElements;","import React, { useState } from 'react';\nimport { Navbar, Button, Form, Collapse, BDiv } from 'bootstrap-4-react';\nimport useUsersElements from '../UsersList/useUsersElements';\n\nconst FilterSearch = ({ token, setToken, onSearch }) => {\n  const [searchName, setSearchName] = useState('');\n\n  const { controlLogout } = useUsersElements({ token, setToken });\n\n  const changeValue = e => setSearchName(e.target.value);\n\n  const controlSearch = () => onSearch(searchName);\n\n  const clearSearch = () => {\n    setSearchName('');\n    onSearch('');\n  };\n\n  return (\n    <>\n      <BDiv display=\"none lg-block xl-block\">\n        <Navbar expand=\"sm\" dark bg=\"dark\" mb=\"3\">\n          <Navbar.Brand href=\"#\">Emphasoft</Navbar.Brand>\n          <Navbar.Nav mx=\"auto\" display=\"flex\" alignItems=\"center\">\n            <Form.Input \n              type=\"text\" \n              text=\"white\" \n              placeholder=\"Поиск по логину...\" \n              mr=\"sm-2\"\n              value={searchName} \n              onChange={changeValue}\n            />\n            <Button onClick={controlSearch} outline info ml=\"2\">Поиск</Button>\n            <Button onClick={clearSearch} outline info ml=\"2\">Очистить</Button>\n          </Navbar.Nav>\n          <BDiv float=\"right\">\n            <Button onClick={controlLogout} outline info ml=\"2\">Выход</Button>\n          </BDiv>  \n        </Navbar>\n      </BDiv>\n      <BDiv display=\"lg-none xl-none\">\n        <Collapse id=\"navbarToggleExternalContent\">\n        <BDiv bg=\"dark\" p=\"2\">\n          <Form.Input \n            type=\"text\" \n            text=\"white\" \n            placeholder=\"Поиск по логину...\" \n            m=\"lg-2\" \n            value={searchName} \n            onChange={changeValue} \n          />\n        </BDiv>\n        <BDiv bg=\"dark\" p=\"2\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n            <Button onClick={controlSearch} outline info ml=\"2\">Поиск</Button>\n            <Button onClick={clearSearch} outline info ml=\"2\">Очистить</Button>\n            <Button onClick={controlLogout} outline info ml=\"2\">Выход</Button>\n        </BDiv>\n      </Collapse>\n      <Navbar dark bg=\"dark\" display=\"flex\" alignItems=\"center\">\n        <Navbar.Toggler target=\"#navbarToggleExternalContent\" />\n      </Navbar>\n      </BDiv>\n    </>\n  );\n};\n\nexport default FilterSearch;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Nav } from 'bootstrap-4-react';\r\n\r\nconst Pagination = ({ usersPerPage, totalListOfUsers, paginate }) => {\r\n    const pageNumber = [];\r\n\r\n    for (let i = 1; i<=Math.ceil(totalListOfUsers / usersPerPage); i++){\r\n        pageNumber.push(i);\r\n    }\r\n\r\n    return (\r\n        <Nav \r\n            display=\"flex\" \r\n            justifyContent=\"center\" \r\n            alignItems=\"center\" \r\n            className=\"mt-2 mb-4\"\r\n        >\r\n            <ul className=\"pagination\">\r\n                {pageNumber.map(number => (\r\n                    <li key={number} className=\"page-item\">\r\n                        <Link \r\n                            onClick={() => paginate(number)} \r\n                            to=\"users#\" \r\n                            className=\"page-link\"\r\n                        >{number}</Link>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </Nav>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React from 'react';\r\n\r\nimport imgLoader from '../../assets/images/Loader/loader.gif';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <>\r\n            <img className=\"loader\" src={imgLoader} alt=\"Загрузка...\"/>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Loader;","export default function isEmpty(value){\n    return  value === undefined ||\n            value === null ||\n            (typeof value === \"object\" && Object.keys(value).length === 0) ||\n            (typeof value === \"string\" && value.trim().length === 0)\n  }","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { BDiv } from 'bootstrap-4-react';\r\n\r\nimport UsersList from '../components/UsersList';\r\nimport FilterSearch from '../components/FilterSearch';\r\nimport Pagination from '../components/Pagination';\r\nimport Loader from '../components/Loader';\r\n\r\nimport useUsersElements from '../components/UsersList/useUsersElements';\r\nimport isEmpty from '../plugins/isEmpty';\r\n\r\nconst UsersPage = ({ token, setToken }) => {\r\n\r\n    const { users, \r\n            filteredUsers, \r\n            onSearch, \r\n            submitSort, \r\n            currentListOfUsers, \r\n            usersPerPage, \r\n            paginate } = useUsersElements({ token, setToken });\r\n\r\n  return token ? (\r\n    <Fragment>\r\n      <FilterSearch onSearch={onSearch} setToken={setToken} />\r\n        { isEmpty(users) ? (\r\n            <Loader />\r\n        ) : isEmpty(filteredUsers) && filteredUsers ? (\r\n            <h5 className=\"text-center mt-5\">Пользователей с таким логином не найдено!</h5>\r\n            ) : (\r\n                <Fragment>\r\n                    <UsersList \r\n                        users={filteredUsers ? filteredUsers : currentListOfUsers} \r\n                        submitSort={submitSort} \r\n                        setToken={setToken} \r\n                    />\r\n                    <Pagination \r\n                        usersPerPage={usersPerPage} \r\n                        totalListOfUsers={users.length} \r\n                        paginate={paginate} \r\n                    />\r\n                </Fragment>\r\n            ) \r\n        }\r\n    </Fragment>\r\n    ) : (\r\n    <Fragment>\r\n        <h5 className=\"text-center mt-5\">Вы не авторизованы!</h5>\r\n        <BDiv className=\"text-center mt-5 mb-5\">\r\n            <Link to='/react-users-app/' className=\"home__btn home__btn-back\">Назад</Link>\r\n        </BDiv>  \r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UsersPage;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport AuthPage from './views/AuthPage';\nimport UsersPage from './views/UsersPage';\n\nfunction App() {\n  const ls = localStorage.getItem('token');\n  const [token, setToken] = useState();\n\n  useEffect(() => {\n    if (ls) {\n      setToken(ls);\n    }\n  }, [ls]);\n  \n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route path='/react-users-app/users'>\n            <UsersPage token={token} setToken={setToken} />\n          </Route>\n          <Route exact path='/react-users-app'>\n            <AuthPage token={token} setToken={setToken} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nimport '../node_modules/materialize-css/dist/css/materialize.min.css';\nimport '../node_modules/materialize-css/dist/js/materialize.min.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/loader.c402d4a9.gif\";"],"sourceRoot":""}